<!--  This file is app/views/trapplar/index.html.erb -->
<head>
  <script>
    function change_stops() {
      var state = document.getElementById("state").value;
      var cities = #{@cities_in_state_hash}[state];
      console.log(@cities_in_state_hash)
      var stops = document.getElementById("stops");
      stops.options = cities;
      }
    </script>
</head>

<h1>Trapplar</h1>
<h2>Search For Your Traveling Plan</h2>

<%= form_tag suggestion_path(), :method => :get do %>
  <%= label :travel_plan, :state, 'State*', :class => 'col-form-label' %>
  <%= select :travel_plan, :state, @states, {}, include_blank: true, :multiple => false, :onchange => "change_stops()", :class => 'form-control col-1' %>
  <%= label :travel_plan, :stop, 'Stop', :class => 'col-form-label' %>
  <%= select :travel_plan, :stop, ["New York","Palenville","Howes Cave","Lake George"], {}, {:multiple => true, :class => 'form-control col-3'} %>
  <%= label :travel_plan, :traveling_days, 'Number of Traveling Days*', :class => 'col-form-label' %>
  <%= select :travel_plan, :traveling_days, [1,2,3], {} , :class => 'form-control col-1' %>
  <br/>
  <%= submit_tag 'Search', :class => 'btn btn-primary' %>
  <%= link_to 'Clear', search_path, :class => 'btn btn-secondary' %>
<% end %>


